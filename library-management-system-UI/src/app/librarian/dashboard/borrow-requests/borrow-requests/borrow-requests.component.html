

<h2>Borrow Requests</h2>

<table border="1" cellpadding="8">
  <tr *ngFor="let r of requests">
    <td>{{ r.book.title }}</td>
    <td>{{ r.student.fullName }}</td>
<td>Status: {{ getStatusText(r.status) }}</td>

    <td>
      <button (click)="updateStatus(r.id, 1)" [disabled]="r.status !== 0">Approve</button>
      <button (click)="updateStatus(r.id, 2)" [disabled]="r.status !== 0">Reject</button>
      <button (click)="updateStatus(r.id, 3)" [disabled]="r.status !== 1">Mark Returned</button>
    </td>
  </tr>
</table>
<!-- return-approvals.component.html -->
<!-- <table *ngIf="requests.length > 0">
  <tr *ngFor="let r of requests">
    <td>{{ r.book?.title }}</td>
    <td>{{ r.status }}</td>
    <td><button (click)="approveReturn(r.id)">Approve</button></td>
  </tr>
</table> -->



    <!-- <td>
  Status: {{ borrowStatus[r.status] }}
  <br />

  <button 
    (click)="updateStatus(r.id, 'Approved')" 
    [disabled]="r.status !== borrowStatus.Pending"
  >
    Approve
  </button>

  <button 
    (click)="updateStatus(r.id, 'Rejected')" 
    [disabled]="r.status !== borrowStatus.Pending"
  >
    Reject
  </button>

  <button 
    (click)="updateStatus(r.id, 'Returned')" 
    [disabled]="r.status !== borrowStatus.Approved"
  >
    Mark Returned
  </button>
</td> -->

